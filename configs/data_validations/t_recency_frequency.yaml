# ----------------------------------------------------------------------
# YAML Configuration for Recency and Frequency Data Validation Rules
# 
# This configuration is used by the `Validations` class to apply 
# multiple layers of quality checks on the Recency and Frequency dataset.
# 
# Structure & Description:
#
# - validation_score_required: Minimum overall Data Quality Score (%) required 
#   for pipeline success. Failing this will stop further execution.
#
# - column_existence: List of required columns that must exist in the dataset.
#
# - primary_key_validation: Combination of columns that must form a unique key.
#   Duplicate rows based on these will be flagged.
#
# - null_threshold_validation: Specifies max allowable null percentage per column.
#   A value of `0` means nulls are not allowed at all.
#
# - datatype_validation: Expected Spark data types per column.
#
# - min_range_validation / max_range_validation: Indicates that the column should 
#   have numeric values within an acceptable range (actual limits may be inferred 
#   from business rules or derived dynamically).
#
# - flag_column_validation: Meant for binary indicators.
#
# - format_validation:  Intended for regex or date patterns.
#
# - business_rule_validation: Placeholder for complex rule checks (e.g. cross-field).
#
# - data_freshness_validation: Placeholder for validating if the dataset is 
#   updated within an acceptable timeframe.
# ----------------------------------------------------------------------
validation_score_required: 50

column_existence:
  - 'l3_customer'
  - 'product_distance'
  - 'production_plant' 
  - 'fulfillment_warehouse'
  - 'product_type'
  - 'kosher_indicator'
  - 'organic_indicator'
  - 'gmo_indicator' 
  - 'lactose_indicator' 
  - 'brand'
  - 'packaging'
  - 'cost_to_serve_recency'
  - 'cost_to_serve_frequency'
  - 'cost_to_serve_pct_sales_recency' 
  - 'cost_to_serve_pct_sales_frequency' 
  - 'cost_to_serve_per_lb_recency'
  - 'cost_to_serve_per_lb_frequency'
  - 'tier_2_recency'
  - 'tier_2_frequency'
  - 'tier_2_pct_sales_recency' 
  - 'tier_2_pct_sales_frequency'
  - 'tier_2_per_lb_recency' 
  - 'tier_2_per_lb_frequency' 
  - 'tier_3_recency'
  - 'tier_3_frequency' 
  - 'tier_3_pct_sales_recency' 
  - 'tier_3_pct_sales_frequency'
  - 'tier_3_per_lb_recency'
  - 'tier_3_per_lb_frequency' 
  - 'tier_2_3_recency' 
  - 'tier_2_3_frequency' 
  - 'tier_2_3_pct_sales_recency'
  - 'tier_2_3_pct_sales_frequency' 
  - 'tier_2_3_per_lb_recency' 
  - 'tier_2_3_per_lb_frequency' 
  - 'enterprise_profit_recency' 
  - 'enterprise_profit_frequency' 
  - 'enterprise_profit_pct_sales_recency' 
  - 'enterprise_profit_pct_sales_frequency' 
  - 'enterprise_profit_per_lb_recency'
  - 'enterprise_profit_per_lb_frequency'
  - 'interplant_logistics_recency'
  - 'interplant_logistics_frequency' 
  - 'interplant_logistics_pct_sales_recency' 
  - 'interplant_logistics_pct_sales_frequency'
  - 'interplant_logistics_per_lb_recency'
  - 'interplant_logistics_per_lb_frequency'
  - 'plant_ops_recency' 
  - 'plant_ops_frequency'
  - 'plant_ops_pct_sales_recency'
  - 'plant_ops_pct_sales_frequency'
  - 'plant_ops_per_lb_recency'
  - 'plant_ops_per_lb_frequency'
  - 'load_date'  
  
primary_key_validation: 
  - 'l3_customer'
  - 'product_distance'
  - 'production_plant' 
  - 'fulfillment_warehouse'
  - 'product_type'
  - 'kosher_indicator'
  - 'organic_indicator'
  - 'gmo_indicator' 
  - 'lactose_indicator' 
  - 'brand'
  - 'packaging'

null_threshold_validation: None
  

datatype_validation:
  - l3_customer : STRING
  - product_distance : STRING
  - production_plant : STRING
  - fulfillment_warehouse : STRING
  - product_type : STRING
  - kosher_indicator : STRING
  - organic_indicator : STRING
  - gmo_indicator : STRING
  - lactose_indicator : STRING
  - brand : STRING
  - packaging : STRING
  - cost_to_serve_recency : BIGINT
  - cost_to_serve_frequency : BIGINT
  - cost_to_serve_pct_sales_recency : BIGINT
  - cost_to_serve_pct_sales_frequency : BIGINT
  - cost_to_serve_per_lb_recency : BIGINT
  - cost_to_serve_per_lb_frequency : BIGINT
  - tier_2_recency : BIGINT
  - tier_2_frequency : BIGINT
  - tier_2_pct_sales_recency : BIGINT
  - tier_2_pct_sales_frequency : BIGINT
  - tier_2_per_lb_recency : BIGINT
  - tier_2_per_lb_frequency : BIGINT
  - tier_3_recency : BIGINT
  - tier_3_frequency : BIGINT
  - tier_3_pct_sales_recency : BIGINT
  - tier_3_pct_sales_frequency : BIGINT
  - tier_3_per_lb_recency : BIGINT
  - tier_3_per_lb_frequency : BIGINT
  - tier_2_3_recency : BIGINT
  - tier_2_3_frequency : BIGINT 
  - tier_2_3_pct_sales_recency : BIGINT
  - tier_2_3_pct_sales_frequency : BIGINT
  - tier_2_3_per_lb_recency : BIGINT
  - tier_2_3_per_lb_frequency : BIGINT
  - enterprise_profit_recency : BIGINT
  - enterprise_profit_frequency : BIGINT
  - enterprise_profit_pct_sales_recency : BIGINT
  - enterprise_profit_pct_sales_frequency : BIGINT
  - enterprise_profit_per_lb_recency : BIGINT
  - enterprise_profit_per_lb_frequency : BIGINT
  - interplant_logistics_recency : BIGINT
  - interplant_logistics_frequency : BIGINT
  - interplant_logistics_pct_sales_recency : BIGINT
  - interplant_logistics_pct_sales_frequency : BIGINT
  - interplant_logistics_per_lb_recency : BIGINT
  - interplant_logistics_per_lb_frequency : BIGINT
  - plant_ops_recency : BIGINT
  - plant_ops_frequency : BIGINT
  - plant_ops_pct_sales_recency : BIGINT
  - plant_ops_pct_sales_frequency : BIGINT
  - plant_ops_per_lb_recency : BIGINT
  - plant_ops_per_lb_frequency : BIGINT
  - load_date : STRING



min_range_validation: None

max_range_validation: None

flag_column_validation:
  kosher_indicator : ["Kosher","Non - Kosher"]
  organic_indicator : ["Organic","Non - Organic"]
  gmo_indicator : ["Non - GMO","GMO"]
  lactose_indicator : ["Lactose - Free","Contains Lactose"]



format_validation: None
  
business_rule_validation: None

data_freshness_validation: None